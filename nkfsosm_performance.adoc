---
sidebar: sidebar 
permalink: nkfsosm_performance.html 
keywords: netapp, keystone, performance, service levels 
summary: Keystone性能服务级别 
---
= 服务级别
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
Keystone可按预定义的性能服务级别(服务级别)或按订阅率计划提供数据存储容量。由Keystone服务管理的每个卷都与一个服务级别相关联。

每个服务级别均由其I/O密度(即IOP/TiB/卷)定义。这是性能(每秒输入/输出操作数[IOS])与已分配存储容量(TiB)的比率、即每个卷平均延迟时的IOS/TiB。

卷的I/O密度每小时计算一次、以报告峰值I/O密度。每个月都会生成卷的I/O密度报告。

此处列出了文件、块和对象存储类型的服务级别。



== 文件存储的服务级别

* 支持的协议 * ： NFS ， CIFS ， iSCSI 和 FC

|===


| * 服务级别 * | * 至尊 * | * 高级版 * | * 标准 * | * 值 * 


| * 工作负载类型 * | 分析，数据库 | VDI ，虚拟化应用程序，软件开发 | 文件共享， Web 服务器 | 备份 


| *每个卷分配的最大IOS/逻辑TiB* | 12,288 | 4,096 | 512 | 不适用 


| *每个卷分配的目标IOS/逻辑TiB* | 6,144 | 2 ， 048 | 128. | 不适用 


| *每个卷分配的最大MBps/Logical TiB。* | 384 | 128. | 16. | 不适用 


| *平均延迟* | 小于 1 毫秒 | 小于 2 毫秒 | 小于 17 毫秒 | 不适用 


| *块大小* 4+| 32 K 
|===


=== 有关文件存储服务级别的更多信息

服务级别指标取决于以下条件：

* 文件和块存储的服务级别支持ONTAP 9.7及更高版本。
* 服务级别的IOps/TiB/卷、MBps/TiB/卷和延迟值基于卷中存储的逻辑数据量、32 KB块大小以及70%读取和30%写入IO操作的随机组合。
* 根据实际或假设的块大小、系统工作负载并发性或输入输出操作、实际IOps/TiB/卷和MBps/TiB/卷可能会有所不同。
* 延迟不包括以下内容：
+
** 应用程序或主机延迟
** 与控制器端口之间的客户网络延迟
** 在使用FabricPool 的情况下、与向对象存储传输数据相关的开销
** QoS会自动应用延迟、以使IO保持在服务级别最大值范围内


* 延迟值不适用于MetroCluster 写入操作。这些写入操作取决于远程系统的距离。
* 如果存储系统上的一个或多个卷未分配AQoS策略、则这些卷将被视为不合规卷、并且没有适用于这些系统的目标服务级别。
* 只有当层策略设置为"无"且云中没有任何块时、_Expected IOPs_才会针对FabricPool。_expected IOPs_适用于不属于SnapMirror同步关系的卷。
* 工作负载IO操作需要在所有已部署的控制器之间保持平衡、具体取决于Keystone顺序。




== 块存储的服务级别

* 支持的协议 * ： FC 和 iSCSI

|===


| * 服务级别 * | * 至尊 * | * 高级版 * | * 标准 * 


| * 工作负载类型 * | HPC | 视频监控 | 备份 


| * 目标 IOPS/TiB* 3+| 不适用 


| * 最大 IOPS/TiB* | 5、500 | 4 ， 000 | 不适用 


| * 最大吞吐量 MBps （ 32 KB/IOP ） * | 43 | 31 | 不适用 


| *平均延迟* | <0.5 毫秒 | <0.5 毫秒 | 不适用 


| *块大小* 3+| 32 K 
|===


== 对象存储的服务级别

* 支持的协议 * ： S3

|===


| * 服务级别 * | 对象 


| * 工作负载类型 * | 介质存储库，归档 


| * 目标 IOPS/TiB* | 不适用 


| * 最大 IOPS/TiB* | 不适用 


| * 最大吞吐量 MBps （ 32 KB/IOP ） * | 不适用 


| *平均延迟* | 不适用 
|===